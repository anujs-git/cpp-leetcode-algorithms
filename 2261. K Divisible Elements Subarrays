class Solution {
public:
    int countDistinct(vector<int>& nums, int k, int p) {
       int count=0;
       int n=nums.size();
       int ans=0;
       set<string> st;
       for(int i=0;i<n;i++){
        int j=i;
        int count=0;
        string s="";
        int count_ele=0;
        while(j<n&&count<=k){
            if(nums[j]%p==0)count++;
            if(count>k)break;
            s+=to_string(nums[j]);
            s+=',';
            if(st.find(s)==st.end()){
                count_ele++;
                //cout<<s<<'\n';
            }
            st.insert(s);
            j++;
        }
        ans+=count_ele;
       }
       return ans;
    }
};
